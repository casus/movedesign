<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prepare movement study design inputs — md_prepare • movedesign</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Barlow-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare movement study design inputs — md_prepare"><meta name="description" content="Prepares, validates, and organizes all required inputs and parameters
for evaluating the study design of animal movement projects. This
function checks data inputs, fits or verifies movement models,
extracts key parameters, and consolidates all settings in a
structured object for easy and reproducible downstream use."><meta property="og:description" content="Prepares, validates, and organizes all required inputs and parameters
for evaluating the study design of animal movement projects. This
function checks data inputs, fits or verifies movement models,
extracts key parameters, and consolidates all settings in a
structured object for easy and reproducible downstream use."><meta property="og:image" content="https://ecoisilva.github.io/movedesign/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">movedesign</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/movedesign.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/tutorial_ind.html">Walkthrough (single estimate)</a></li>
    <li><a class="dropdown-item" href="../articles/tutorial_pop.html">Walkthrough (population-level)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ecoisilva/movedesign" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Prepare movement study design inputs</h1>
      <small class="dont-index">Source: <a href="https://github.com/ecoisilva/movedesign/tree/main/R/fct_main.R" class="external-link"><code>R/fct_main.R</code></a></small>
      <div class="d-none name"><code>md_prepare.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Prepares, validates, and organizes all required inputs and parameters
for evaluating the study design of animal movement projects. This
function checks data inputs, fits or verifies movement models,
extracts key parameters, and consolidates all settings in a
structured object for easy and reproducible downstream use.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">md_prepare</span><span class="op">(</span></span>
<span>  species <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  models <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_individuals <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dur <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dti <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  set_target <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hr"</span>, <span class="st">"ctsd"</span><span class="op">)</span>,</span>
<span>  which_meta <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  add_individual_variation <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  groups <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-species">species<a class="anchor" aria-label="anchor" href="#arg-species"></a></dt>
<dd><p>Character. Scientific or common name of the focal
species used as a workflow label.</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A named list of telemetry objects (from
<code><a href="https://rdrr.io/pkg/ctmm/man/as.telemetry.html" class="external-link">ctmm::as.telemetry()</a></code>) to be used as the empirical basis for the
simulations. Each telemetry object must contain valid metadata
and timestamped locations.</p></dd>


<dt id="arg-models">models<a class="anchor" aria-label="anchor" href="#arg-models"></a></dt>
<dd><p>(Optional) Named list of fitted ctmm models (from
<code><a href="https://rdrr.io/pkg/ctmm/man/ctmm.fit.html" class="external-link">ctmm::ctmm.fit()</a></code> or <code><a href="https://rdrr.io/pkg/ctmm/man/ctmm.fit.html" class="external-link">ctmm::ctmm.select()</a></code>). If not supplied,
models are fitted automatically.</p></dd>


<dt id="arg-n-individuals">n_individuals<a class="anchor" aria-label="anchor" href="#arg-n-individuals"></a></dt>
<dd><p>Integer. Number of animals (tags) to include
in the study design; defines the target <em>population</em> sample size.</p></dd>


<dt id="arg-dur">dur<a class="anchor" aria-label="anchor" href="#arg-dur"></a></dt>
<dd><p>A list with elements <code>value</code> and <code>unit</code> (e.g.,
<code>list(value = 2, unit = "months")</code>), for the study's maximum
duration. <code>unit</code> must be either <code>"second"</code>, <code>"minute"</code>, <code>"hour"</code>,
<code>"day"</code>, <code>"month"</code>, or <code>"year"</code>.</p></dd>


<dt id="arg-dti">dti<a class="anchor" aria-label="anchor" href="#arg-dti"></a></dt>
<dd><p>A list with elements <code>value</code> and <code>unit</code> (e.g.,
<code>list(value = 1, unit = "day")</code>), specifying the intended
sampling interval between relocations. <code>unit</code> must be either
<code>"second"</code>, <code>"minute"</code>, <code>"hour"</code>, <code>"day"</code>, <code>"month"</code>, or <code>"year"</code>.</p></dd>


<dt id="arg-set-target">set_target<a class="anchor" aria-label="anchor" href="#arg-set-target"></a></dt>
<dd><p>Character. Specifies the primary research target(s):
must be either <code>hr</code> (home range estimation), <code>ctsd</code>
(movement speed), or a character vector including both. This
argument controls which target metrics are processed, analyzed,
and reported in the study design workflow.</p></dd>


<dt id="arg-which-meta">which_meta<a class="anchor" aria-label="anchor" href="#arg-which-meta"></a></dt>
<dd><p>Character. Specifies the analytical target for
population-level inference: <code>NULL</code>, <code>"mean"</code> (default), or
<code>"ratio"</code>. Use <code>NULL</code> for a single individual, <code>"mean"</code> for
population means, or <code>"ratio"</code> to compare group means
(requires <code>groups</code>).</p></dd>


<dt id="arg-add-individual-variation">add_individual_variation<a class="anchor" aria-label="anchor" href="#arg-add-individual-variation"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, simulates
variation by drawing movement parameters from the population
distribution.</p></dd>


<dt id="arg-groups">groups<a class="anchor" aria-label="anchor" href="#arg-groups"></a></dt>
<dd><p>(Optional) A named list for group assignments.
Each element is a character vector of individual names
(matching <code>data</code>). For example,
<code>list(A = c("id1", "id2"), B = c("id3", "id4"))</code> for groups
"A" and "B".Required when <code>which_meta = \"ratio\"</code>.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>Logical. If <code>TRUE</code>, enables parallel processing
for model fitting, which speeds up analyses.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>movedesign_input</code> (and <code>movedesign</code>). This is
a structured S3 list containing all validated inputs, model fits,
and derived parameters for the study design workflow.</p>
<p>The returned object includes:</p><ul><li><p><code>design</code>:
A <code>movedesign</code> object with all study settings and metadata.</p></li>
<li><p><code>data</code>:
The original or validated list of telemetry objects.</p></li>
<li><p><code>fitList</code>:
List of fitted movement models for each individual.</p></li>
<li><p><code>meanfitList</code>:
List of population or group-level mean models.</p></li>
<li><p><code>sigma</code>, <code>tau_p</code>, <code>tau_v</code>:
Movement parameters extracted from data provided for
downstream simulations.</p></li>
<li><p><code>mu</code>: List of mean locations.</p></li>
<li><p><code>groups</code>: Group structure if specified, otherwise <code>NULL</code>.</p></li>
<li><p>Other slots describing <em>population</em> sample size, sampling
duration, sampling interval, targets, and workflow options.</p></li>
</ul><p>This object is ready for use in downstream <code>movedesign</code> output
and diagnostic functions.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function is designed to streamline and standardize the preparation
of input data and study design parameters for simulation-based movement
ecology analyses. It performs the following key steps:</p><ul><li><p>Validates that <code>data</code> is a non-empty list of telemetry
objects with metadata and location records.</p></li>
<li><p>Fits movement models to each individual if not supplied.</p></li>
<li><p>Checks supplied movement models for validity.</p></li>
<li><p>Extracts parameters (e.g., <code>sigma</code>, <code>tau_p</code>, <code>tau_v</code>)
for simulation.</p></li>
<li><p>Gathers settings (sample size, duration, sampling, grouping)
into a single object.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">buffalo</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">input</span> <span class="op">&lt;-</span> <span class="fu">md_prepare</span><span class="op">(</span></span></span>
<span class="r-in"><span>    data <span class="op">=</span> <span class="va">buffalo</span>,</span></span>
<span class="r-in"><span>    models <span class="op">=</span> <span class="va">models</span>,</span></span>
<span class="r-in"><span>    species <span class="op">=</span> <span class="st">"buffalo"</span>,</span></span>
<span class="r-in"><span>    n_individuals <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>    dur <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>value <span class="op">=</span> <span class="fl">1</span>, unit <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    dti <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>value <span class="op">=</span> <span class="fl">1</span>, unit <span class="op">=</span> <span class="st">"day"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    add_individual_variation <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>    set_target <span class="op">=</span> <span class="st">"hr"</span>,</span></span>
<span class="r-in"><span>    which_meta <span class="op">=</span> <span class="st">"mean"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">input</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/ecoisilva" class="external-link">Inês Silva</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

